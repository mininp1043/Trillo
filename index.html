<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Aviso multiling√ºe</title>
  <style>
    :root { --olive: #556B2F; --card-bg: rgba(0,0,0,0.22); }
    * { box-sizing: border-box; }
    body{
      margin:0;
      font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      background-color: var(--olive);
      color: #fff;
      min-height:100vh;
      display:flex;
      flex-direction:column;
      align-items:center;
      padding:18px;
    }
    header{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      justify-content:center;
      margin-bottom:18px;
    }
    .flag {
      width:48px;
      height:32px;
      object-fit:cover;
      cursor:pointer;
      border:2px solid rgba(255,255,255,0.95);
      border-radius:6px;
      background:#fff;
      display:inline-block;
    }
    .flag[aria-pressed="true"] {
      outline:3px solid rgba(255, 215, 0, 0.8);
    }
    .card{
      width:100%;
      max-width:760px;
      background: var(--card-bg);
      padding:18px;
      border-radius:12px;
      box-shadow: 0 6px 18px rgba(0,0,0,0.18);
    }
    h2{ margin:0 0 10px 0; color:#FFD700; font-size:20px; }
    ul{ margin:0; padding-left:20px; }
    li{ margin:8px 0; }
    @media (max-width:420px){
      .flag{ width:38px; height:26px; }
      h2{ font-size:18px; }
    }
  </style>
</head>
<body>
  <header role="toolbar" aria-label="Selector de idioma">
    <!-- Aseg√∫rate de que estos archivos existan en /flags/ -->
    <img class="flag" src="flags/es.svg" alt="Espa√±ol" title="Espa√±ol" onclick="setLang('es', this)" role="button" aria-label="Espa√±ol">
    <img class="flag" src="flags/fr.svg" alt="Fran√ßais" title="Fran√ßais" onclick="setLang('fr', this)" role="button" aria-label="Fran√ßais">
    <img class="flag" src="flags/gb.svg" alt="English" title="English" onclick="setLang('en', this)" role="button" aria-label="English">
    <img class="flag" src="flags/de.svg" alt="Deutsch" title="Deutsch" onclick="setLang('de', this)" role="button" aria-label="Deutsch">
    <img class="flag" src="flags/ca.svg" alt="Catal√†" title="Catal√†" onclick="setLang('ca', this)" role="button" aria-label="Catal√†">
    <img class="flag" src="flags/gl.svg" alt="Galego" title="Galego" onclick="setLang('gl', this)" role="button" aria-label="Galego">
    <img class="flag" src="flags/eu.svg" alt="Euskara" title="Euskara" onclick="setLang('eu', this)" role="button" aria-label="Euskara">
    <img class="flag" src="flags/aragon.svg" alt="Fovano (Arag√≥n)" title="Fovano (Arag√≥n)" onclick="setLang('fov', this)" role="button" aria-label="Fovano">
  </header>

  <main class="card" role="main" aria-live="polite">
    <h2 id="title">‚ö†Ô∏è Atenci√≥n: Propiedad privada</h2>
    <ul id="lines">
      <li>Camino de uso exclusivo. Prohibido el paso salvo veh√≠culos de emergencia.</li>
      <li>üî• Prohibido hacer fuego.</li>
      <li>‚õ∫ Prohibido acampar.</li>
      <li>üóëÔ∏è Ll√©vate tu basura.</li>
    </ul>
  </main>

  <script>
    const MESSAGES = {
      es: { title: "‚ö†Ô∏è Atenci√≥n: Propiedad privada", lines: [
        "Camino de uso exclusivo. Prohibido el paso salvo veh√≠culos de emergencia.",
        "üî• Prohibido hacer fuego.",
        "‚õ∫ Prohibido acampar.",
        "üóëÔ∏è Ll√©vate tu basura."
      ]},
      fov: { title: "‚ö†Ô∏è Atenci√≥n: Propiedat privada", lines: [
        "Camino ta uso esclusivo. Prohibido lo paso menos pa veh√≠clos d‚Äôemerchencia.",
        "üî• Prohibido fer fuego.",
        "‚õ∫ Prohibido acampar.",
        "üóëÔ∏è Porta-te la basura."
      ]},
      ca: { title: "‚ö†Ô∏è Atenci√≥: Propietat privada", lines: [
        "Cam√≠ d‚Äô√∫s exclusiu. Prohibit el pas excepte vehicles d‚Äôemerg√®ncia.",
        "üî• Prohibit fer foc.",
        "‚õ∫ Prohibit acampar.",
        "üóëÔ∏è Emporta‚Äôt les deixalles."
      ]},
      gl: { title: "‚ö†Ô∏è Atenci√≥n: Propiedade privada", lines: [
        "Cami√±o de uso exclusivo. Prohibido o paso salvo veh√≠culos de emerxencia.",
        "üî• Prohibido facer lume.",
        "‚õ∫ Prohibido acampar.",
        "üóëÔ∏è Leva o lixo contigo."
      ]},
      eu: { title: "‚ö†Ô∏è Kontuz: Jabetza pribatua", lines: [
        "Bide erabilera esklusibokoa. Debekatuta sartzea, salbu larrialdi ibilgailuak.",
        "üî• Debekatuta sua egitea.",
        "‚õ∫ Debekatuta kanpatzea.",
        "üóëÔ∏è Zure zaborra eraman."
      ]},
      fr: { title: "‚ö†Ô∏è Attention : Propri√©t√© priv√©e", lines: [
        "Chemin √† usage exclusif. Passage interdit sauf v√©hicules d‚Äôurgence.",
        "üî• Feu interdit.",
        "‚õ∫ Camping interdit.",
        "üóëÔ∏è Ramassez vos d√©chets."
      ]},
      en: { title: "‚ö†Ô∏è Warning: Private property", lines: [
        "Restricted path. No entry except emergency vehicles.",
        "üî• No fires.",
        "‚õ∫ No camping.",
        "üóëÔ∏è Take your trash with you."
      ]},
      de: { title: "‚ö†Ô∏è Achtung: Privatgrundst√ºck", lines: [
        "Weg nur f√ºr den privaten Gebrauch. Zutritt verboten, au√üer f√ºr Einsatzfahrzeuge.",
        "üî• Offenes Feuer verboten.",
        "‚õ∫ Campen verboten.",
        "üóëÔ∏è Nehmen Sie Ihren M√ºll mit."
      ]}
    };

    function setLang(lang, imgEl){
      const data = MESSAGES[lang] || MESSAGES.es;
      document.getElementById('title').textContent = data.title;
      const ul = document.getElementById('lines');
      ul.innerHTML = '';
      data.lines.forEach(t => {
        const li = document.createElement('li');
        li.textContent = t;
        ul.appendChild(li);
      });
      // marca visual en la bandera seleccionada
      document.querySelectorAll('.flag').forEach(f => f.setAttribute('aria-pressed','false'));
      if(imgEl) imgEl.setAttribute('aria-pressed','true');
      // guarda preferencia
      try { localStorage.setItem('lang', lang); } catch(e){}
      // actualiza URL sin recargar
      const u = new URL(window.location.href);
      u.searchParams.set('lang', lang);
      history.replaceState(null,'', u.toString());
    }

    // inicial
    (function(){
      const fromUrl = new URL(window.location.href).searchParams.get('lang');
      const saved = (function(){ try{ return localStorage.getItem('lang'); } catch(e){ return null; } })();
      const pick = navigator.language ? navigator.language.split('-')[0] : 'es';
      const preferred = fromUrl || saved || ( ['es','ca','gl','eu','fr','en','de'].includes(pick) ? pick : 'es' );
      // intenta seleccionar la imagen correspondiente y marcarla
      const mapToImg = { es:'flags/es.svg', fr:'flags/fr.svg', en:'flags/gb.svg', de:'flags/de.svg', ca:'flags/ca.svg', gl:'flags/gl.svg', eu:'flags/eu.svg', fov:'flags/aragon.svg' };
      const imgSelector = Array.from(document.querySelectorAll('.flag')).find(i => i.getAttribute('onclick').includes("'"+preferred+"'"));
      setLang(preferred, imgSelector || document.querySelector('.flag'));
    })();
  </script>
</body>
</html>
